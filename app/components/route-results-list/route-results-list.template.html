<md-content ng-cloak>
    <md-list flex>
        <md-subheader ng-hide="parsedResults.noResults" ng-bind-html="titleString"></md-subheader>
        <md-subheader ng-hide="!parsedResults.noResults">לא נמצאו תוצאות</md-subheader>

        <md-progress-circular ng-show="showSpinner"
                              md-mode="indeterminate" class="md-accent"></md-progress-circular>

        <div ng-repeat="route in parsedResults.routes">
            <md-divider></md-divider>
            <md-list-item class="md-3-line" ng-click="toggleDetails($index)">

                <div class="md-list-item-text" layout="column">

                    <h2 class="md-primary">{{route.departure + " ◅ " + route.arrival}}</h2>
                    <p>{{ route.exchangeString }}</p>

                    <img ng-src="img/icons/train_white.svg" class="md-secondary" />

                    <div class="md-secondary" ng-hide="!route.hideDetails">
                        <p>{{ ' סה"כ ' + route.tripLength }}</p>
                        <p>{{ 'עלייה ברציף: ' + route.initialPlatform }}</p>
                    </div>

                    <md-list ng-hide="route.hideDetails" ng-click="toggleDetails($index)" flex>
                        <h3>פרטי מסלול:</h3>

                        <div class="md-list-item-text" layout="column">
                            <h4>{{ 'משך מסלול: ' + route.tripLength }}</h4>
                        </div>

                        <md-list-item class="md-2-line" ng-repeat="train in route.trains">
                            <div class="md-list-item-text" layout="column">
                                <h4>רכבת מספר {{$index + 1}}</h4>
                                <p>{{train.string}}</p>
                            </div>
                        </md-list-item>
                    </md-list>

                </div>
            </md-list-item>
        </div>

    </md-list>
</md-content>

